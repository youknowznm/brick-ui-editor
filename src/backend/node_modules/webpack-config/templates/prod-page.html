<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="x-ua-compatible" content="ie=edge"/>
    <meta charset="utf-8"/>
    <meta name="viewport"
          content="initial-scale=0.3333333, maximum-scale=0.3333333, minimum-scale=0.3333333, user-scalable=no">
    <link rel="icon" type="image/x-icon" href="../extra/favicon.ico">
    <!--IE Polyfill 如果不需要考虑 IE9，请删除-->
    <!--[if lte IE 9]>
    <script src="../extra/ie9-polyfill.js"></script>
    <![endif]-->
</head>
<body class="">
<div id="root"></div>
<!-- 要在 div#root 之后，因为要在不支持浏览器时摘掉 div#root 不让 app 启动 -->
<script src="../extra/browser-detector/detector.js"></script>
<script>
    (function () {
        var browserName = window.BROWSER && window.BROWSER.name
        // console.log(browserName)
        // for bird wk which using phantomjs
        if (browserName && (browserName === 'phantomjs' || browserName === 'ie')) {
            document.write('<scr' + 'ipt src="../extra/babel-polyfill.min.js"></sc' + 'ript>');
        }
    })()
</script>
<script>
    window.WEB_CONTEXT = '${WEB_CONTEXT || CONTEXT}';
    window.API_CONTEXT = '${API_CONTEXT || CONTEXT}';
    window.IS_DEV = JSON.parse('${IS_DEV}');
    window.I18N_VERSION = '${I18N_VERSION}';
    window.COMPONENT_KEY = '${entryName}';
    window.BUILD_TIME = '${BUILD_TIME}';
    window.SERVER_EXTRA = {};
</script>
<script>
    // 与后端一起部署时等待后台提供 issue_reporter 参数替换
    if ('@application.profile@' !== 'prod') {
        // safari link css 会阻塞 style 标签下样式的应用
        if (location.search === '?issue-report-no-waiting') {
            // for debug
            document.write('<scr' + 'ipt async="async" data-space-id="${ICAFE_SPACE_ID}" defer="defer" src="../extra/issue-reporter.js"></scr' + 'ipt>')
        }
        else {
            setTimeout(function() {
                var s = document.createElement('script');
                s.async = 'async'
                s.defer = 'defer'
                s.setAttribute('data-space-id', '${ICAFE_SPACE_ID}')
                s.src = '../extra/issue-reporter.js';

                document.body.appendChild(s);
            }, 1000);
        }
    }
</script>
</body>
</html>
