/**
 * @file: less-reference-import-loader
 * @author: Cuttle Cong
 * @date: 2017/11/25
 * @description:
 */
// var loaderUtils = require('loader-utils');


module.exports = function (content, a, b, c) {
    if (this.cachable) {
        this.cachable()
    }

    var found = false
    content = content.replace(/(\s*@import\s+)((['"]).+?\3\s*)/g, function (_, $1, $2, $3) {
        if (!found) {
            found = true
            // console.log('less-reference-import-loader:')
            // console.log('  ', filename)
        }
        // console.log('  input: ')
        // console.log('   ', _)
        var output = $1 + '(reference) ' + $2

        // console.log('  output: ')
        // console.log('   ', output)
        return output
    })
    return content
}
